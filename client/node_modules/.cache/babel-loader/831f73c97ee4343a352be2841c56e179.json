{"ast":null,"code":"'use strict';\n\nStripe.DEFAULT_HOST = 'api.stripe.com';\nStripe.DEFAULT_PORT = '443';\nStripe.DEFAULT_BASE_PATH = '/v1/';\nStripe.DEFAULT_API_VERSION = null; // Use node's default timeout:\n\nStripe.DEFAULT_TIMEOUT = require('http').createServer().timeout;\nStripe.PACKAGE_VERSION = require('../package.json').version;\nStripe.USER_AGENT = {\n  bindings_version: Stripe.PACKAGE_VERSION,\n  lang: 'node',\n  lang_version: process.version,\n  platform: process.platform,\n  publisher: 'stripe',\n  uname: null\n};\nStripe.USER_AGENT_SERIALIZED = null;\nStripe.MAX_NETWORK_RETRY_DELAY_SEC = 2;\nStripe.INITIAL_NETWORK_RETRY_DELAY_SEC = 0.5;\nvar APP_INFO_PROPERTIES = ['name', 'version', 'url', 'partner_id'];\n\nvar EventEmitter = require('events').EventEmitter;\n\nvar utils = require('./utils');\n\nvar resourceNamespace = require('./ResourceNamespace');\n\nvar resources = {\n  // Support Accounts for consistency, Account for backwards compat\n  Account: require('./resources/Accounts'),\n  Accounts: require('./resources/Accounts'),\n  AccountLinks: require('./resources/AccountLinks'),\n  ApplePayDomains: require('./resources/ApplePayDomains'),\n  ApplicationFees: require('./resources/ApplicationFees'),\n  Balance: require('./resources/Balance'),\n  BalanceTransactions: require('./resources/BalanceTransactions'),\n  BitcoinReceivers: require('./resources/BitcoinReceivers'),\n  Charges: require('./resources/Charges'),\n  CountrySpecs: require('./resources/CountrySpecs'),\n  Coupons: require('./resources/Coupons'),\n  CreditNotes: require('./resources/CreditNotes'),\n  Customers: require('./resources/Customers'),\n  Disputes: require('./resources/Disputes'),\n  EphemeralKeys: require('./resources/EphemeralKeys'),\n  Events: require('./resources/Events'),\n  ExchangeRates: require('./resources/ExchangeRates'),\n  Files: require('./resources/Files'),\n  FileLinks: require('./resources/FileLinks'),\n  InvoiceItems: require('./resources/InvoiceItems'),\n  Invoices: require('./resources/Invoices'),\n  IssuerFraudRecords: require('./resources/IssuerFraudRecords'),\n  LoginLinks: require('./resources/LoginLinks'),\n  OAuth: require('./resources/OAuth'),\n  OrderReturns: require('./resources/OrderReturns'),\n  Orders: require('./resources/Orders'),\n  PaymentIntents: require('./resources/PaymentIntents'),\n  PaymentMethods: require('./resources/PaymentMethods'),\n  Payouts: require('./resources/Payouts'),\n  Plans: require('./resources/Plans'),\n  Products: require('./resources/Products'),\n  RecipientCards: require('./resources/RecipientCards'),\n  Recipients: require('./resources/Recipients'),\n  Refunds: require('./resources/Refunds'),\n  Reviews: require('./resources/Reviews'),\n  Skus: require('./resources/SKUs'),\n  Sources: require('./resources/Sources'),\n  SubscriptionItems: require('./resources/SubscriptionItems'),\n  SubscriptionSchedules: require('./resources/SubscriptionSchedules'),\n  Subscriptions: require('./resources/Subscriptions'),\n  TaxRates: require('./resources/TaxRates'),\n  ThreeDSecure: require('./resources/ThreeDSecure'),\n  Tokens: require('./resources/Tokens'),\n  Topups: require('./resources/Topups'),\n  Transfers: require('./resources/Transfers'),\n  UsageRecords: require('./resources/UsageRecords'),\n  UsageRecordSummaries: require('./resources/UsageRecordSummaries'),\n  WebhookEndpoints: require('./resources/WebhookEndpoints'),\n  // The following rely on pre-filled IDs:\n  ApplicationFeeRefunds: require('./resources/ApplicationFeeRefunds'),\n  Capabilities: require('./resources/Capabilities'),\n  ChargeRefunds: require('./resources/ChargeRefunds'),\n  CustomerCards: require('./resources/CustomerCards'),\n  CustomerSubscriptions: require('./resources/CustomerSubscriptions'),\n  Persons: require('./resources/Persons'),\n  SubscriptionScheduleRevisions: require('./resources/SubscriptionScheduleRevisions'),\n  TaxIds: require('./resources/TaxIds'),\n  TransferReversals: require('./resources/TransferReversals'),\n  // Namespaced resources\n  Checkout: resourceNamespace('checkout', {\n    Sessions: require('./resources/Checkout/Sessions')\n  }),\n  Issuing: resourceNamespace('issuing', {\n    Authorizations: require('./resources/Issuing/Authorizations'),\n    Cardholders: require('./resources/Issuing/Cardholders'),\n    Cards: require('./resources/Issuing/Cards'),\n    Disputes: require('./resources/Issuing/Disputes'),\n    Transactions: require('./resources/Issuing/Transactions')\n  }),\n  Radar: resourceNamespace('radar', {\n    ValueLists: require('./resources/Radar/ValueLists'),\n    ValueListItems: require('./resources/Radar/ValueListItems')\n  }),\n  Reporting: resourceNamespace('reporting', {\n    ReportRuns: require('./resources/Reporting/ReportRuns'),\n    ReportTypes: require('./resources/Reporting/ReportTypes')\n  }),\n  Sigma: resourceNamespace('sigma', {\n    ScheduledQueryRuns: require('./resources/Sigma/ScheduledQueryRuns')\n  }),\n  Terminal: resourceNamespace('terminal', {\n    ConnectionTokens: require('./resources/Terminal/ConnectionTokens'),\n    Locations: require('./resources/Terminal/Locations'),\n    Readers: require('./resources/Terminal/Readers')\n  })\n}; // For backwards compatibility, `Files` is aliased to `FileUploads`\n\nresources.FileUploads = resources.Files;\nStripe.StripeResource = require('./StripeResource');\nStripe.resources = resources;\n\nfunction Stripe(key, version) {\n  if (!(this instanceof Stripe)) {\n    return new Stripe(key, version);\n  }\n\n  Object.defineProperty(this, '_emitter', {\n    value: new EventEmitter(),\n    enumerable: false,\n    configurable: false,\n    writeable: false\n  });\n  this.on = this._emitter.on.bind(this._emitter);\n  this.off = this._emitter.removeListener.bind(this._emitter);\n  this._api = {\n    auth: null,\n    host: Stripe.DEFAULT_HOST,\n    port: Stripe.DEFAULT_PORT,\n    basePath: Stripe.DEFAULT_BASE_PATH,\n    version: Stripe.DEFAULT_API_VERSION,\n    timeout: Stripe.DEFAULT_TIMEOUT,\n    agent: null,\n    dev: false,\n    maxNetworkRetries: 0\n  };\n\n  this._prepResources();\n\n  this.setApiKey(key);\n  this.setApiVersion(version);\n  this.errors = require('./Error');\n  this.webhooks = require('./Webhooks');\n  this._prevRequestMetrics = [];\n  this.setTelemetryEnabled(false);\n}\n\nStripe.errors = require('./Error');\nStripe.webhooks = require('./Webhooks');\nStripe.prototype = {\n  setHost: function (host, port, protocol) {\n    this._setApiField('host', host);\n\n    if (port) {\n      this.setPort(port);\n    }\n\n    if (protocol) {\n      this.setProtocol(protocol);\n    }\n  },\n  setProtocol: function (protocol) {\n    this._setApiField('protocol', protocol.toLowerCase());\n  },\n  setPort: function (port) {\n    this._setApiField('port', port);\n  },\n  setApiVersion: function (version) {\n    if (version) {\n      this._setApiField('version', version);\n    }\n  },\n  setApiKey: function (key) {\n    if (key) {\n      this._setApiField('auth', 'Bearer ' + key);\n    }\n  },\n  setTimeout: function (timeout) {\n    this._setApiField('timeout', timeout == null ? Stripe.DEFAULT_TIMEOUT : timeout);\n  },\n  setAppInfo: function (info) {\n    if (info && typeof info !== 'object') {\n      throw new Error('AppInfo must be an object.');\n    }\n\n    if (info && !info.name) {\n      throw new Error('AppInfo.name is required');\n    }\n\n    info = info || {};\n    var appInfo = APP_INFO_PROPERTIES.reduce(function (accum, prop) {\n      if (typeof info[prop] == 'string') {\n        accum = accum || {};\n        accum[prop] = info[prop];\n      }\n\n      return accum;\n    }, undefined); // Kill the cached UA string because it may no longer be valid\n\n    Stripe.USER_AGENT_SERIALIZED = undefined;\n    this._appInfo = appInfo;\n  },\n  setHttpAgent: function (agent) {\n    this._setApiField('agent', agent);\n  },\n  _setApiField: function (key, value) {\n    this._api[key] = value;\n  },\n  getApiField: function (key) {\n    return this._api[key];\n  },\n  setClientId: function (clientId) {\n    this._clientId = clientId;\n  },\n  getClientId: function () {\n    return this._clientId;\n  },\n  getConstant: function (c) {\n    return Stripe[c];\n  },\n  getMaxNetworkRetries: function () {\n    return this.getApiField('maxNetworkRetries');\n  },\n  setMaxNetworkRetries: function (maxNetworkRetries) {\n    if (maxNetworkRetries && typeof maxNetworkRetries !== 'number' || arguments.length < 1) {\n      throw new Error('maxNetworkRetries must be a number.');\n    }\n\n    this._setApiField('maxNetworkRetries', maxNetworkRetries);\n  },\n  getMaxNetworkRetryDelay: function () {\n    return this.getConstant('MAX_NETWORK_RETRY_DELAY_SEC');\n  },\n  getInitialNetworkRetryDelay: function () {\n    return this.getConstant('INITIAL_NETWORK_RETRY_DELAY_SEC');\n  },\n  // Gets a JSON version of a User-Agent and uses a cached version for a slight\n  // speed advantage.\n  getClientUserAgent: function (cb) {\n    if (Stripe.USER_AGENT_SERIALIZED) {\n      return cb(Stripe.USER_AGENT_SERIALIZED);\n    }\n\n    this.getClientUserAgentSeeded(Stripe.USER_AGENT, function (cua) {\n      Stripe.USER_AGENT_SERIALIZED = cua;\n      cb(Stripe.USER_AGENT_SERIALIZED);\n    });\n  },\n  // Gets a JSON version of a User-Agent by encoding a seeded object and\n  // fetching a uname from the system.\n  getClientUserAgentSeeded: function (seed, cb) {\n    var self = this;\n    utils.safeExec('uname -a', function (err, uname) {\n      var userAgent = {};\n\n      for (var field in seed) {\n        userAgent[field] = encodeURIComponent(seed[field]);\n      } // URI-encode in case there are unusual characters in the system's uname.\n\n\n      userAgent.uname = encodeURIComponent(uname || 'UNKNOWN');\n\n      if (self._appInfo) {\n        userAgent.application = self._appInfo;\n      }\n\n      cb(JSON.stringify(userAgent));\n    });\n  },\n  getAppInfoAsString: function () {\n    if (!this._appInfo) {\n      return '';\n    }\n\n    var formatted = this._appInfo.name;\n\n    if (this._appInfo.version) {\n      formatted += '/' + this._appInfo.version;\n    }\n\n    if (this._appInfo.url) {\n      formatted += ' (' + this._appInfo.url + ')';\n    }\n\n    return formatted;\n  },\n  setTelemetryEnabled: function (enableTelemetry) {\n    this._enableTelemetry = enableTelemetry;\n  },\n  getTelemetryEnabled: function () {\n    return this._enableTelemetry;\n  },\n  _prepResources: function () {\n    for (var name in resources) {\n      this[utils.pascalToCamelCase(name)] = new resources[name](this);\n    }\n  }\n};\nmodule.exports = Stripe; // expose constructor as a named property to enable mocking with Sinon.JS\n\nmodule.exports.Stripe = Stripe;","map":{"version":3,"sources":["C:/Developing/portfolios/bnb_clone/node_modules/stripe/lib/stripe.js"],"names":["Stripe","DEFAULT_HOST","DEFAULT_PORT","DEFAULT_BASE_PATH","DEFAULT_API_VERSION","DEFAULT_TIMEOUT","require","createServer","timeout","PACKAGE_VERSION","version","USER_AGENT","bindings_version","lang","lang_version","process","platform","publisher","uname","USER_AGENT_SERIALIZED","MAX_NETWORK_RETRY_DELAY_SEC","INITIAL_NETWORK_RETRY_DELAY_SEC","APP_INFO_PROPERTIES","EventEmitter","utils","resourceNamespace","resources","Account","Accounts","AccountLinks","ApplePayDomains","ApplicationFees","Balance","BalanceTransactions","BitcoinReceivers","Charges","CountrySpecs","Coupons","CreditNotes","Customers","Disputes","EphemeralKeys","Events","ExchangeRates","Files","FileLinks","InvoiceItems","Invoices","IssuerFraudRecords","LoginLinks","OAuth","OrderReturns","Orders","PaymentIntents","PaymentMethods","Payouts","Plans","Products","RecipientCards","Recipients","Refunds","Reviews","Skus","Sources","SubscriptionItems","SubscriptionSchedules","Subscriptions","TaxRates","ThreeDSecure","Tokens","Topups","Transfers","UsageRecords","UsageRecordSummaries","WebhookEndpoints","ApplicationFeeRefunds","Capabilities","ChargeRefunds","CustomerCards","CustomerSubscriptions","Persons","SubscriptionScheduleRevisions","TaxIds","TransferReversals","Checkout","Sessions","Issuing","Authorizations","Cardholders","Cards","Transactions","Radar","ValueLists","ValueListItems","Reporting","ReportRuns","ReportTypes","Sigma","ScheduledQueryRuns","Terminal","ConnectionTokens","Locations","Readers","FileUploads","StripeResource","key","Object","defineProperty","value","enumerable","configurable","writeable","on","_emitter","bind","off","removeListener","_api","auth","host","port","basePath","agent","dev","maxNetworkRetries","_prepResources","setApiKey","setApiVersion","errors","webhooks","_prevRequestMetrics","setTelemetryEnabled","prototype","setHost","protocol","_setApiField","setPort","setProtocol","toLowerCase","setTimeout","setAppInfo","info","Error","name","appInfo","reduce","accum","prop","undefined","_appInfo","setHttpAgent","getApiField","setClientId","clientId","_clientId","getClientId","getConstant","c","getMaxNetworkRetries","setMaxNetworkRetries","arguments","length","getMaxNetworkRetryDelay","getInitialNetworkRetryDelay","getClientUserAgent","cb","getClientUserAgentSeeded","cua","seed","self","safeExec","err","userAgent","field","encodeURIComponent","application","JSON","stringify","getAppInfoAsString","formatted","url","enableTelemetry","_enableTelemetry","getTelemetryEnabled","pascalToCamelCase","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nStripe.DEFAULT_HOST = 'api.stripe.com';\nStripe.DEFAULT_PORT = '443';\nStripe.DEFAULT_BASE_PATH = '/v1/';\nStripe.DEFAULT_API_VERSION = null;\n\n// Use node's default timeout:\nStripe.DEFAULT_TIMEOUT = require('http').createServer().timeout;\n\nStripe.PACKAGE_VERSION = require('../package.json').version;\n\nStripe.USER_AGENT = {\n  bindings_version: Stripe.PACKAGE_VERSION,\n  lang: 'node',\n  lang_version: process.version,\n  platform: process.platform,\n  publisher: 'stripe',\n  uname: null,\n};\n\nStripe.USER_AGENT_SERIALIZED = null;\n\nStripe.MAX_NETWORK_RETRY_DELAY_SEC = 2;\nStripe.INITIAL_NETWORK_RETRY_DELAY_SEC = 0.5;\n\nvar APP_INFO_PROPERTIES = ['name', 'version', 'url', 'partner_id'];\n\nvar EventEmitter = require('events').EventEmitter;\nvar utils = require('./utils');\n\nvar resourceNamespace = require('./ResourceNamespace');\n\nvar resources = {\n  // Support Accounts for consistency, Account for backwards compat\n  Account: require('./resources/Accounts'),\n  Accounts: require('./resources/Accounts'),\n  AccountLinks: require('./resources/AccountLinks'),\n  ApplePayDomains: require('./resources/ApplePayDomains'),\n  ApplicationFees: require('./resources/ApplicationFees'),\n  Balance: require('./resources/Balance'),\n  BalanceTransactions: require('./resources/BalanceTransactions'),\n  BitcoinReceivers: require('./resources/BitcoinReceivers'),\n  Charges: require('./resources/Charges'),\n  CountrySpecs: require('./resources/CountrySpecs'),\n  Coupons: require('./resources/Coupons'),\n  CreditNotes: require('./resources/CreditNotes'),\n  Customers: require('./resources/Customers'),\n  Disputes: require('./resources/Disputes'),\n  EphemeralKeys: require('./resources/EphemeralKeys'),\n  Events: require('./resources/Events'),\n  ExchangeRates: require('./resources/ExchangeRates'),\n  Files: require('./resources/Files'),\n  FileLinks: require('./resources/FileLinks'),\n  InvoiceItems: require('./resources/InvoiceItems'),\n  Invoices: require('./resources/Invoices'),\n  IssuerFraudRecords: require('./resources/IssuerFraudRecords'),\n  LoginLinks: require('./resources/LoginLinks'),\n  OAuth: require('./resources/OAuth'),\n  OrderReturns: require('./resources/OrderReturns'),\n  Orders: require('./resources/Orders'),\n  PaymentIntents: require('./resources/PaymentIntents'),\n  PaymentMethods: require('./resources/PaymentMethods'),\n  Payouts: require('./resources/Payouts'),\n  Plans: require('./resources/Plans'),\n  Products: require('./resources/Products'),\n  RecipientCards: require('./resources/RecipientCards'),\n  Recipients: require('./resources/Recipients'),\n  Refunds: require('./resources/Refunds'),\n  Reviews: require('./resources/Reviews'),\n  Skus: require('./resources/SKUs'),\n  Sources: require('./resources/Sources'),\n  SubscriptionItems: require('./resources/SubscriptionItems'),\n  SubscriptionSchedules: require('./resources/SubscriptionSchedules'),\n  Subscriptions: require('./resources/Subscriptions'),\n  TaxRates: require('./resources/TaxRates'),\n  ThreeDSecure: require('./resources/ThreeDSecure'),\n  Tokens: require('./resources/Tokens'),\n  Topups: require('./resources/Topups'),\n  Transfers: require('./resources/Transfers'),\n  UsageRecords: require('./resources/UsageRecords'),\n  UsageRecordSummaries: require('./resources/UsageRecordSummaries'),\n  WebhookEndpoints: require('./resources/WebhookEndpoints'),\n\n  // The following rely on pre-filled IDs:\n  ApplicationFeeRefunds: require('./resources/ApplicationFeeRefunds'),\n  Capabilities: require('./resources/Capabilities'),\n  ChargeRefunds: require('./resources/ChargeRefunds'),\n  CustomerCards: require('./resources/CustomerCards'),\n  CustomerSubscriptions: require('./resources/CustomerSubscriptions'),\n  Persons: require('./resources/Persons'),\n  SubscriptionScheduleRevisions: require('./resources/SubscriptionScheduleRevisions'),\n  TaxIds: require('./resources/TaxIds'),\n  TransferReversals: require('./resources/TransferReversals'),\n\n  // Namespaced resources\n  Checkout: resourceNamespace('checkout', {\n    Sessions: require('./resources/Checkout/Sessions'),\n  }),\n  Issuing: resourceNamespace('issuing', {\n    Authorizations: require('./resources/Issuing/Authorizations'),\n    Cardholders: require('./resources/Issuing/Cardholders'),\n    Cards: require('./resources/Issuing/Cards'),\n    Disputes: require('./resources/Issuing/Disputes'),\n    Transactions: require('./resources/Issuing/Transactions'),\n  }),\n  Radar: resourceNamespace('radar', {\n    ValueLists: require('./resources/Radar/ValueLists'),\n    ValueListItems: require('./resources/Radar/ValueListItems'),\n  }),\n  Reporting: resourceNamespace('reporting', {\n    ReportRuns: require('./resources/Reporting/ReportRuns'),\n    ReportTypes: require('./resources/Reporting/ReportTypes'),\n  }),\n  Sigma: resourceNamespace('sigma', {\n    ScheduledQueryRuns: require('./resources/Sigma/ScheduledQueryRuns'),\n  }),\n  Terminal: resourceNamespace('terminal', {\n    ConnectionTokens: require('./resources/Terminal/ConnectionTokens'),\n    Locations: require('./resources/Terminal/Locations'),\n    Readers: require('./resources/Terminal/Readers'),\n  }),\n};\n\n// For backwards compatibility, `Files` is aliased to `FileUploads`\nresources.FileUploads = resources.Files;\n\nStripe.StripeResource = require('./StripeResource');\nStripe.resources = resources;\n\nfunction Stripe(key, version) {\n  if (!(this instanceof Stripe)) {\n    return new Stripe(key, version);\n  }\n\n  Object.defineProperty(this, '_emitter', {\n    value: new EventEmitter(),\n    enumerable: false,\n    configurable: false,\n    writeable: false,\n  });\n\n  this.on = this._emitter.on.bind(this._emitter);\n  this.off = this._emitter.removeListener.bind(this._emitter);\n\n  this._api = {\n    auth: null,\n    host: Stripe.DEFAULT_HOST,\n    port: Stripe.DEFAULT_PORT,\n    basePath: Stripe.DEFAULT_BASE_PATH,\n    version: Stripe.DEFAULT_API_VERSION,\n    timeout: Stripe.DEFAULT_TIMEOUT,\n    agent: null,\n    dev: false,\n    maxNetworkRetries: 0,\n  };\n\n  this._prepResources();\n  this.setApiKey(key);\n  this.setApiVersion(version);\n\n  this.errors = require('./Error');\n  this.webhooks = require('./Webhooks');\n\n  this._prevRequestMetrics = [];\n  this.setTelemetryEnabled(false);\n}\n\nStripe.errors = require('./Error');\nStripe.webhooks = require('./Webhooks');\n\nStripe.prototype = {\n  setHost: function(host, port, protocol) {\n    this._setApiField('host', host);\n    if (port) {\n      this.setPort(port);\n    }\n    if (protocol) {\n      this.setProtocol(protocol);\n    }\n  },\n\n  setProtocol: function(protocol) {\n    this._setApiField('protocol', protocol.toLowerCase());\n  },\n\n  setPort: function(port) {\n    this._setApiField('port', port);\n  },\n\n  setApiVersion: function(version) {\n    if (version) {\n      this._setApiField('version', version);\n    }\n  },\n\n  setApiKey: function(key) {\n    if (key) {\n      this._setApiField(\n        'auth',\n        'Bearer ' + key\n      );\n    }\n  },\n\n  setTimeout: function(timeout) {\n    this._setApiField(\n      'timeout',\n      timeout == null ? Stripe.DEFAULT_TIMEOUT : timeout\n    );\n  },\n\n  setAppInfo: function(info) {\n    if (info && typeof info !== 'object') {\n      throw new Error('AppInfo must be an object.');\n    }\n\n    if (info && !info.name) {\n      throw new Error('AppInfo.name is required');\n    }\n\n    info = info || {};\n\n    var appInfo = APP_INFO_PROPERTIES.reduce(function(accum, prop) {\n      if (typeof info[prop] == 'string') {\n        accum = accum || {};\n\n        accum[prop] = info[prop];\n      }\n\n      return accum;\n    }, undefined);\n\n    // Kill the cached UA string because it may no longer be valid\n    Stripe.USER_AGENT_SERIALIZED = undefined;\n\n    this._appInfo = appInfo;\n  },\n\n  setHttpAgent: function(agent) {\n    this._setApiField('agent', agent);\n  },\n\n  _setApiField: function(key, value) {\n    this._api[key] = value;\n  },\n\n  getApiField: function(key) {\n    return this._api[key];\n  },\n\n  setClientId: function(clientId) {\n    this._clientId = clientId;\n  },\n\n  getClientId: function() {\n    return this._clientId;\n  },\n\n  getConstant: function(c) {\n    return Stripe[c];\n  },\n\n  getMaxNetworkRetries: function() {\n    return this.getApiField('maxNetworkRetries');\n  },\n\n  setMaxNetworkRetries: function(maxNetworkRetries) {\n    if ((maxNetworkRetries && typeof maxNetworkRetries !== 'number') || arguments.length < 1) {\n      throw new Error('maxNetworkRetries must be a number.');\n    }\n\n    this._setApiField('maxNetworkRetries', maxNetworkRetries);\n  },\n\n  getMaxNetworkRetryDelay: function() {\n    return this.getConstant('MAX_NETWORK_RETRY_DELAY_SEC');\n  },\n\n  getInitialNetworkRetryDelay: function() {\n    return this.getConstant('INITIAL_NETWORK_RETRY_DELAY_SEC');\n  },\n\n  // Gets a JSON version of a User-Agent and uses a cached version for a slight\n  // speed advantage.\n  getClientUserAgent: function(cb) {\n    if (Stripe.USER_AGENT_SERIALIZED) {\n      return cb(Stripe.USER_AGENT_SERIALIZED);\n    }\n    this.getClientUserAgentSeeded(Stripe.USER_AGENT, function(cua) {\n      Stripe.USER_AGENT_SERIALIZED = cua;\n      cb(Stripe.USER_AGENT_SERIALIZED);\n    })\n  },\n\n  // Gets a JSON version of a User-Agent by encoding a seeded object and\n  // fetching a uname from the system.\n  getClientUserAgentSeeded: function(seed, cb) {\n    var self = this;\n\n    utils.safeExec('uname -a', function(err, uname) {\n      var userAgent = {};\n      for (var field in seed) {\n        userAgent[field] = encodeURIComponent(seed[field]);\n      }\n\n      // URI-encode in case there are unusual characters in the system's uname.\n      userAgent.uname = encodeURIComponent(uname || 'UNKNOWN');\n\n      if (self._appInfo) {\n        userAgent.application = self._appInfo;\n      }\n\n      cb(JSON.stringify(userAgent))\n    });\n  },\n\n  getAppInfoAsString: function() {\n    if (!this._appInfo) {\n      return '';\n    }\n\n    var formatted = this._appInfo.name;\n\n    if (this._appInfo.version) {\n      formatted += '/' + this._appInfo.version;\n    }\n\n    if (this._appInfo.url) {\n      formatted += ' (' + this._appInfo.url + ')';\n    }\n\n    return formatted;\n  },\n\n  setTelemetryEnabled: function(enableTelemetry) {\n    this._enableTelemetry = enableTelemetry;\n  },\n\n  getTelemetryEnabled: function() {\n    return this._enableTelemetry;\n  },\n\n  _prepResources: function() {\n    for (var name in resources) {\n      this[utils.pascalToCamelCase(name)] = new resources[name](this);\n    }\n  },\n};\n\nmodule.exports = Stripe;\n// expose constructor as a named property to enable mocking with Sinon.JS\nmodule.exports.Stripe = Stripe;\n"]},"metadata":{},"sourceType":"script"}